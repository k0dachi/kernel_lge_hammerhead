--- net/bluetooth/l2cap_core.c	2012-05-21 11:33:40.879930017 +0200
+++ net/bluetooth/l2cap_core.c	2012-05-21 12:10:12.092049029 +0200
@@ -2587,8 +2589,10 @@ static void l2cap_conf_rfc_get(struct l2

		switch (type) {
		case L2CAP_CONF_RFC:
-			if (olen == sizeof(rfc))
-				memcpy(&rfc, (void *)val, olen);
+			if (olen != sizeof(rfc))
+				break;
+
+			memcpy(&rfc, (void *)val, olen);
			goto done;
		}
	}
